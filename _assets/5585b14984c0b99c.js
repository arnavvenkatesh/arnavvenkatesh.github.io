(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[39469],{

/***/ 540731:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var yC=__c.yC;
var Y7=function(a){return b=>({id:a.id,...b,eval:c=>{const d=c-b.delay;c=Object.fromEntries(Object.entries(b.oj).map(([f,g])=>{if(typeof g==="number")var h=g;else a:{h=__c.xC[g.Zb];var k=g.points;if(d<k[0].time)h=k[0].value;else{for(let l=1;l<k.length;l++)if(g=k[l],d<g.time){k=k[l-1];h=(k.Zb?__c.xC[k.Zb]:h)(k.value,g.value,d-k.time,g.time-k.time);break a}h=k[k.length-1].value}}return[f,h]}));const e=Object.fromEntries(Object.entries(b.Ri).map(([f,g])=>[f,g]));return a.zr({Ha:c,static:e})}})},Z7=function(a){return{compile:b=>
a.primitives(b)}},oLc=function(a,b){return[{time:0,value:0,Zb:yC.LINEAR},{time:b,value:a,Zb:yC.LINEAR}]},$7=function(a,b,c,d,e,f=yC.LINEAR){if(c===0)return[{time:0,value:a,Zb:f},{time:0,value:a,Zb:f}];if(d==="constant-duration"){const {tj:m,gap:n=0}=e;d={tj:m,w6a:Math.ceil(c/(m+n)),gap:n}}else d=Math.max(1,Math.round(c/e.T0a)),d={tj:c/d,w6a:d,gap:0};const {tj:g,w6a:h,gap:k}=d;d=[];var l=0;for(e=0;e<h&&l<c;e++)d.push({time:l,value:a,Zb:f}),l=Math.min(l+g,c),d.push({time:l,value:b,Zb:f}),k>0&&e<h-1&&
l<c&&(l=Math.min(l+k,c),d.push({time:l,value:b,Zb:f}));return d},a8=function(a,b,c,d,e=yC.LINEAR){if(c===0)return[{time:0,value:a,Zb:e},{time:0,value:a,Zb:e}];const {tj:f,gap:g=0,XAb:h=!1}=d;d=Math.ceil(c/(f+g));const k=[];var l=0;let m=a;k.push({time:0,value:m,Zb:e});for(let p=0;p<d&&l<c;p++){var n=m===a?b:a;if(h){const q=Math.min(l+f-1,c);q>l&&k.push({time:q,value:m,Zb:e});l=Math.min(l+f,c);l<=c&&(k.push({time:l,value:n,Zb:e}),m=n)}else l=Math.min(l+f,c),l<=c&&(k.push({time:l,value:n,Zb:e}),m=n);
g>0&&l<c&&(n=Math.min(l+g,c),k.push({time:n,value:m,Zb:e}),l=n)}return k},sLc=function(a){switch(a){case 0:return pLc;case 1:return qLc;case 2:return rLc;default:return pLc}},tLc=function(a,b=0){const c=[];a=(a||"").slice(0,10);b=sLc(b);for(let d=0;d<a.length;d++){const e=b[a[d]]||b[" "]||pLc[" "];c.push([e[0]||0,e[1]||0,e[2]||0,e[3]||0]);c.push([e[4]||0,e[5]||0,e[6]||0,e[7]||0])}for(;c.length<20;)c.push([0,0,0,0]);return c},uLc=function(a,b){const c=Math.abs(a)%864E5,d=Math.floor(c/1E3);a=Math.floor(d/
3600);const e=Math.floor(d%3600/60),f=d%60,g=c%1E3,h=Math.floor(g/10),k=(l,m=2)=>l.toString().padStart(m,"0");switch(b){case 0:return`${k(e)}:${k(f)}:${k(h)}`;case 1:return`${k(a)}:${k(e)}:${k(f)}`;case 2:return`${k(a)}:${k(e)}`;case 3:return`${k(Math.floor(d/60))}:${k(f)}`;case 4:case 5:return b=Math.floor(g/1E3*30),`${k(a)}:${k(e)}:${k(f)}:${k(b)}`;case 6:return Math.floor(c/1E3*30).toString();case 7:return(c/1E3).toFixed(2);default:return`${k(a)}:${k(e)}:${k(f)}`}},vLc=class{Fwb(a){return this.rM.get(a)}constructor(){this.rM=
new Map;this.rM=new Map}};var wLc=Y7({id:"brightness",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform float p;vec4 H=vec4(.55,.24,1.,1.);float q(vec4 a){return dot(a.rgb,vec3(.2126,.7152,.0722));}const mat3 w=mat3(.412456,.357576,.180438,.212673,.715152,.072175,.019334,.119192,.950304),x=mat3(3.240454,-1.537138,-.498531,-.969266,1.876011,.041556,.055643,-.204026,1.057225),y=mat3(2.326495,-.79599,-.381285,-.969244,1.875968,.041555,.055631,-.203978,1.056972);vec3 z(vec3 a){return pow(a,vec3(.454545));}vec3 A(vec3 a){return pow(a,vec3(2.2));}vec3 i(vec3 a){return a*x;}vec3 B(vec3 a){return a*w;}vec3 h(vec3 a){float e=.412221*a.r+.536333*a.g+.051446*a.b,f=.211903*a.r+.6807*a.g+.107397*a.b,g=.088302*a.r+.281719*a.g+.629979*a.b,b=pow(e,.333333),c=pow(f,.333333),d=pow(g,.333333);return vec3(.210454*b+.793618*c-.004072*d,1.977998*b-2.428592*c+.450594*d,.025904*b+.782772*c-.808676*d);}vec3 o(vec3 a){float b=a.r+.396338*a.g+.215804*a.b,c=a.r-.105561*a.g-.063854*a.b,d=a.r-.089484*a.g-1.291486*a.b,e=b*b*b,f=c*c*c,g=d*d*d;return vec3(4.076742*e-3.307712*f+.23097*g,-1.268438*e+2.609757*f-.341319*g,-.004196*e-.703419*f+1.707615*g);}vec3 r(vec3 a){vec3 b=o(a);return B(b);}vec3 n(vec3 a){return a*y;}vec3 C(vec3 b){if(all(greaterThanEqual(b,vec3(0.))))return b;vec3 c=h(b),j=c,a;float d=0.,e=1.;for(int k=0;k<8;k++){float f=(d+e)*.5;j.yz=c.yz*f,a=r(j);vec3 l=n(a),m=i(a);if(all(greaterThanEqual(l,vec3(0.))))d=f;else e=f;}vec3 g=i(a);g=max(g,vec3(0.));return g;}vec3 s(vec3 b){if(all(greaterThanEqual(b,vec3(0.)))&&all(lessThanEqual(b,vec3(1.))))return b;vec3 c=h(b),j=c,a;float d=0.,e=1.;for(int k=0;k<8;k++){float f=(d+e)*.5;j.yz=c.yz*f,a=r(j);vec3 l=n(a),m=i(a);if(all(greaterThanEqual(l,vec3(0.)))&&all(lessThanEqual(m,vec3(1.))))d=f;else e=f;}vec3 g=i(a);g=clamp(g,vec3(0.),vec3(1.));return g;}vec4 t(vec4 a){float b=max(max(a.r,a.g),a.b);if(b>1.000001)a.rgb/=b;return a;}vec4 D(vec4 a){if(all(lessThanEqual(a.rgb,vec3(1.)))&&all(greaterThanEqual(a.rgb,vec3(0.))))return a;a=any(lessThan(a.rgb,vec3(0.)))?vec4(C(a.rgb),a.a):a;vec4 f=vec4(s(a.rgb),a.a),g=t(a);vec3 b=h(a.rgb),c=h(f.rgb),d=h(g.rgb);float j=abs(b.r-d.r)*4.;vec2 k=vec2(b.g-c.g,b.b-c.b);float e=length(k)*1.,l=j+e,m=e/l,u=clamp(m,0.,1.);vec3 E=mix(c,d,u);return vec4(o(E),a.a);}vec4 F(vec4 a,float b){vec3 c=a.rgb;float d=pow(2.,b);c*=d;return vec4(c,a.a);}vec4 v(vec4 b,float c){float a=q(b);if(a<1e-6)return b;a=clamp(a,0.,1.);float d=pow(2.,c),e=1.-pow(1.-a,d),f=e/a;b.rgb*=f;return b;}vec4 G(vec4 a,float b){b*=2.5;if(b<0.){float c=max(b,-1.333);a=v(a,c),a=b<-1.333?F(a,b+1.333):a;}else a=v(a,b);return a;}void main(){vec2 b=vTexCoord;vec4 a=texture2D(uPrevResult,b);a.rgb=A(a.rgb),a=p!=0.?G(a,p):a,a=D(a),a=vec4(z(a.rgb),a.a),gl_FragColor=a;}"],
uniforms:{p:a.Ha.brightness}}}});var xLc=a=>b=>b**a,yLc=a=>b=>b.map(a),b8=yLc(xLc(2.2)),c8=yLc(xLc(1/2.2)),zLc=a=>{a=__c.wr(a);return b8([a.r/255,a.g/255,a.b/255])};var ALc=Y7({id:"film_border",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec2 uElementResolution;uniform vec3 T;uniform float U,I,J,K,V,W,L,M;uniform int X;vec3 Y(vec3 a){return a-floor(a*.00346)*289.;}vec4 Z(vec4 a){return a-floor(a*.00346)*289.;}vec4 v(vec4 a){return Z((a*34.+10.)*a);}float w(vec3 h){const vec2 e=vec2(.166667,.333333);const vec4 i=vec4(0.,.5,1.,2.);vec3 c=floor(h+dot(h,e.yyy)),a=h-c+dot(c,e.xxx),j=step(a.yzx,a.xyz),x=1.-j,f=min(j.xyz,x.zxy),g=max(j.xyz,x.zxy),r=a-f+e.xxx,s=a-g+e.yyy,t=a-i.yyy;c=Y(c);vec4 y=v(v(v(c.z+vec4(0.,f.z,g.z,1.))+c.y+vec4(0.,f.y,g.y,1.))+c.x+vec4(0.,f.x,g.x,1.));vec3 b=.142857*i.wyz-i.xzx;vec4 z=y-49.*floor(y*b.z*b.z),A=floor(z*b.z),N=floor(z-7.*A),k=A*b.x+b.yyyy,l=N*b.x+b.yyyy,d=1.-abs(k)-abs(l),B=vec4(k.xy,l.xy),C=vec4(k.zw,l.zw),O=floor(B)*2.+1.,P=floor(C)*2.+1.,D=-step(d,vec4(0.)),E=B.xzyw+O.xzyw*D.xxyy,F=C.xzyw+P.xzyw*D.zzww;vec3 m=vec3(E.xy,d.x),n=vec3(E.zw,d.y),o=vec3(F.xy,d.z),p=vec3(F.zw,d.w);vec4 G=inversesqrt(vec4(dot(m,m),dot(n,n),dot(o,o),dot(p,p)));m*=G.x,n*=G.y,o*=G.z,p*=G.w;vec4 u=max(.5-vec4(dot(a,a),dot(r,r),dot(s,s),dot(t,t)),0.);u=u*u;return 105.*dot(u*u,vec4(dot(m,a),dot(n,r),dot(o,s),dot(p,t)));}vec4 ba=vec4(.55,.24,1.,1.);vec3 H(vec3 a){return pow(a,vec3(.454545));}vec3 q(vec3 a){return pow(a,vec3(2.2));}vec3 Q(vec3 a,vec3 b,float c){vec3 d=q(a),e=q(b),f=mix(d,e,c);return H(f);}float R(float c,vec2 a){float b=1./min(a.x,a.y),d=b*1.5;return max(c,d);}vec4 _(float d,float b,float c,vec4 a,vec3 g,float e,int r){if(r==1){float h=b-c,i=b+c;if(d>i)return e<1e-3?vec4(0.,0.,0.,0.):vec4(g,e);else if(d>h){float f=smoothstep(h,i,d);if(e<1e-3){float s=mix(a.a,0.,f);return vec4(a.rgb,s);}else{vec3 t=Q(a.rgb,g,f);float j=mix(a.a,e,f);j=min(a.a,j);return vec4(t,j);}}else return a;}else{float l=b-c,m=b+c,k=smoothstep(l,m,d);k*=e;vec3 n=q(a.rgb),o=q(g),p=mix(n,o,k),u=H(p);return vec4(u,a.a);}}float S(vec2 i,vec2 j,float b,float k,vec2 c){vec2 d=i-j,e=d;float g=c.x/c.y;if(g>1.)e.x*=mix(1.,g,b);else e.y*=mix(1.,1./g,b);float l;vec2 o=abs(d);float h=k*.5;vec2 f=abs(e),a=f-vec2(.5-h);a=max(a,0.);float n=length(a);l=a.x>0.&&a.y>0.?n+(.5-h):max(f.x,f.y);float m;m=b>0.?mix(.707,.5,b):.707;return l/m;}float aa(vec2 c,float a){vec2 b=c*K;float d=w(vec3(b,a)),e=w(vec3(b*2.3,a+17.))*.5,f=w(vec3(b*5.1,a+31.))*.25,g=(d+e+f)/3.5;return g*J*.1;}void main(){vec2 a=vTexCoord;vec4 e=texture2D(uPrevResult,a);vec2 c=vec2(.5,.5);float d=S(a,c,M,L,uElementResolution),b=0.;b=J>1e-3?aa(a,V):b;float f=d+b,g=R(I,uElementResolution);gl_FragColor=_(f,U,g,e,T,W,X);}"],
uniforms:{U:a.Ha.ewb,I:a.Ha.Ov,J:a.Ha.nBb,K:a.Ha.mBb,V:a.Ha.VC,W:a.Ha.opacity,T:c8([a.Ha.Iz,a.Ha.Gz,a.Ha.Fz]),L:a.Ha.dM,X:a.static.Cnb,M:a.Ha.Cmb}}}});var BLc=Y7({id:"film_grain",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec2 uElementResolution;uniform float N,I,H,J,h,O;vec3 P(vec3 a){return a-floor(a*.00346)*289.;}vec4 Q(vec4 a){return a-floor(a*.00346)*289.;}vec4 o(vec4 a){return Q((a*34.+10.)*a);}float i(vec3 j){const vec2 e=vec2(.166667,.333333);const vec4 k=vec4(0.,.5,1.,2.);vec3 c=floor(j+dot(j,e.yyy)),a=j-c+dot(c,e.xxx),l=step(a.yzx,a.xyz),x=1.-l,f=min(l.xyz,x.zxy),g=max(l.xyz,x.zxy),t=a-f+e.xxx,u=a-g+e.yyy,v=a-k.yyy;c=P(c);vec4 y=o(o(o(c.z+vec4(0.,f.z,g.z,1.))+c.y+vec4(0.,f.y,g.y,1.))+c.x+vec4(0.,f.x,g.x,1.));vec3 b=.142857*k.wyz-k.xzx;vec4 z=y-49.*floor(y*b.z*b.z),A=floor(z*b.z),K=floor(z-7.*A),m=A*b.x+b.yyyy,n=K*b.x+b.yyyy,d=1.-abs(m)-abs(n),B=vec4(m.xy,n.xy),C=vec4(m.zw,n.zw),L=floor(B)*2.+1.,M=floor(C)*2.+1.,D=-step(d,vec4(0.)),E=B.xzyw+L.xzyw*D.xxyy,F=C.xzyw+M.xzyw*D.zzww;vec3 p=vec3(E.xy,d.x),q=vec3(E.zw,d.y),r=vec3(F.xy,d.z),s=vec3(F.zw,d.w);vec4 G=inversesqrt(vec4(dot(p,p),dot(q,q),dot(r,r),dot(s,s)));p*=G.x,q*=G.y,r*=G.z,s*=G.w;vec4 w=max(.5-vec4(dot(a,a),dot(t,t),dot(u,u),dot(v,v)),0.);w=w*w;return 105.*dot(w*w,vec4(dot(p,a),dot(q,t),dot(r,u),dot(s,v)));}void main(){vec2 d=vTexCoord;vec4 e=texture2D(uPrevResult,d);vec2 a=d*uElementResolution/max(I,.1);float f=i(vec3(a,h)),g=i(vec3(a*4.,h+10.)),j=mix(f,g,1.-J);vec3 b=vec3(j);if(H>0.){float k=i(vec3(a*1.1,h+20.)),l=i(vec3(a*1.2,h+30.)),m=i(vec3(a*1.3,h+40.));vec3 n=vec3(k,l,m)*H;b+=n;}b=b*.5*N;vec3 c=e.rgb+b;c=clamp(c,vec3(0.),vec3(1.)),c=mix(e.rgb,c,O),gl_FragColor=vec4(c,e.a);}"],
uniforms:{N:a.Ha.eb,I:a.Ha.SCa,H:a.Ha.Sxa,J:a.Ha.Ov,h:a.Ha.VC,O:a.Ha.opacity}}}});var CLc=Y7({id:"saturation",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform float p;vec4 G=vec4(.55,.24,1.,1.);const mat3 w=mat3(.412456,.357576,.180438,.212673,.715152,.072175,.019334,.119192,.950304),x=mat3(3.240454,-1.537138,-.498531,-.969266,1.876011,.041556,.055643,-.204026,1.057225),y=mat3(2.326495,-.79599,-.381285,-.969244,1.875968,.041555,.055631,-.203978,1.056972);vec3 z(vec3 a){return pow(a,vec3(.454545));}vec3 A(vec3 a){return pow(a,vec3(2.2));}vec3 i(vec3 a){return a*x;}vec3 B(vec3 a){return a*w;}vec3 h(vec3 a){float e=.412221*a.r+.536333*a.g+.051446*a.b,f=.211903*a.r+.6807*a.g+.107397*a.b,g=.088302*a.r+.281719*a.g+.629979*a.b,b=pow(e,.333333),c=pow(f,.333333),d=pow(g,.333333);return vec3(.210454*b+.793618*c-.004072*d,1.977998*b-2.428592*c+.450594*d,.025904*b+.782772*c-.808676*d);}vec3 n(vec3 a){float b=a.r+.396338*a.g+.215804*a.b,c=a.r-.105561*a.g-.063854*a.b,d=a.r-.089484*a.g-1.291486*a.b,e=b*b*b,f=c*c*c,g=d*d*d;return vec3(4.076742*e-3.307712*f+.23097*g,-1.268438*e+2.609757*f-.341319*g,-.004196*e-.703419*f+1.707615*g);}vec3 q(vec3 a){vec3 b=n(a);return B(b);}vec3 o(vec3 a){return a*y;}vec3 C(vec3 b){if(all(greaterThanEqual(b,vec3(0.))))return b;vec3 c=h(b),j=c,a;float d=0.,e=1.;for(int k=0;k<8;k++){float f=(d+e)*.5;j.yz=c.yz*f,a=q(j);vec3 l=o(a),m=i(a);if(all(greaterThanEqual(l,vec3(0.))))d=f;else e=f;}vec3 g=i(a);g=max(g,vec3(0.));return g;}vec3 r(vec3 b){if(all(greaterThanEqual(b,vec3(0.)))&&all(lessThanEqual(b,vec3(1.))))return b;vec3 c=h(b),j=c,a;float d=0.,e=1.;for(int k=0;k<8;k++){float f=(d+e)*.5;j.yz=c.yz*f,a=q(j);vec3 l=o(a),m=i(a);if(all(greaterThanEqual(l,vec3(0.)))&&all(lessThanEqual(m,vec3(1.))))d=f;else e=f;}vec3 g=i(a);g=clamp(g,vec3(0.),vec3(1.));return g;}vec4 s(vec4 a){float b=max(max(a.r,a.g),a.b);if(b>1.000001)a.rgb/=b;return a;}vec4 D(vec4 a){if(all(lessThanEqual(a.rgb,vec3(1.)))&&all(greaterThanEqual(a.rgb,vec3(0.))))return a;a=any(lessThan(a.rgb,vec3(0.)))?vec4(C(a.rgb),a.a):a;vec4 f=vec4(r(a.rgb),a.a),g=s(a);vec3 b=h(a.rgb),c=h(f.rgb),d=h(g.rgb);float j=abs(b.r-d.r)*4.;vec2 k=vec2(b.g-c.g,b.b-c.b);float e=length(k)*1.,l=j+e,m=e/l,t=clamp(m,0.,1.);vec3 E=mix(c,d,t);return vec4(n(E),a.a);}float u(float c,float a,float d,float b,float e){return (c-a)*(e-b)/(d-a)+b;}vec3 v(vec3 a,float b){a.g*=b,a.b*=b;return a;}vec4 F(vec4 a,float b){vec3 c=h(a.rgb);float d=u(b,-1.,1.,0.,2.);vec3 e=v(c,d);return vec4(n(e),a.a);}void main(){vec2 b=vTexCoord;vec4 a=texture2D(uPrevResult,b);a.rgb=A(a.rgb),a=p!=0.?F(a,p):a,a=D(a),a=vec4(z(a.rgb),a.a),gl_FragColor=a;}"],
uniforms:{p:a.Ha.saturation}}}});var DLc=Y7({id:"tear_lines",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform float t,u,n,j,k,o;uniform vec3 p;float d(vec2 a){return fract(sin(dot(a,vec2(127.1,311.7)))*43758.545312);}float q(vec2 e){vec2 a=floor(e),b=fract(e);float f=d(a),g=d(a+vec2(1.,0.)),h=d(a+vec2(0.,1.)),i=d(a+vec2(1.,1.));vec2 c=b*b*(3.-2.*b);return mix(f,g,c.x)+(h-f)*c.y*(1.-c.x)+(i-g)*c.x*c.y;}void main(){vec2 b=vTexCoord;vec4 h=texture2D(uPrevResult,b);float c=o*100.;vec2 e=vec2(cos(k),sin(k)),r=vec2(-e.y,e.x);float f=dot(b,r),g=dot(b,e),i=0.,a=floor(f/.05),l=d(vec2(a,floor(c)));if(l<t){float v=fract(f/.05+l*10.);if(v<u/.05){float m=d(vec2(a*2.,floor(c)))*(1.-j),w=m+j*d(vec2(a*3.,floor(c))),s=fract(g+.5);if(s>=m&&s<=w){float x=q(vec2(g*50.,a));i=x;}}}vec3 y=mix(h.rgb,p,i*n);gl_FragColor=vec4(y,h.a);}"],
uniforms:{t:a.Ha.jFa,u:a.Ha.nFa,n:a.Ha.mFa,j:a.Ha.lFa,k:a.Ha.iFa,o:a.Ha.VC,p:[a.Ha.Py,a.Ha.Oy,a.Ha.Qa]}}}});var ELc=Y7({id:"transform",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec2 uElementResolution;uniform float w,x,l,m,n,o,p,i;uniform int f,g;uniform vec4 y;vec2 q(vec2 r){float c=uElementResolution.x/uElementResolution.y;vec2 h=r;h.x*=c;vec2 d=vec2(m*c,n),a=h-d;float j=o*i,k=p*i;j=max(j,1e-3),k=max(k,1e-3),a.x/=j,a.y/=k;float e=-l*3.141593/180.,s=cos(e),t=sin(e);vec2 b;b.x=a.x*s-a.y*t,b.y=a.x*t+a.y*s,b.x-=w*c,b.y-=x;vec2 u=b+d;u.x/=c;return u;}vec4 v(vec2 a){bool c=(a.x<0.||a.x>1.)&&f==0,d=(a.y<0.||a.y>1.)&&g==0;if(c||d)return y;vec2 b=a;if(f==1)b.x=clamp(a.x,0.,1.);else if(f==2)b.x=fract(a.x);else if(f==3){float e=floor(a.x);b.x=mod(e,2.)==1.?1.-fract(a.x):fract(a.x);}if(g==1)b.y=clamp(a.y,0.,1.);else if(g==2)b.y=fract(a.y);else if(g==3){float h=floor(a.y);b.y=mod(h,2.)==1.?1.-fract(a.y):fract(a.y);}return texture2D(uPrevResult,b);}void main(){vec2 a=vTexCoord,b=q(a);vec4 c=v(b);gl_FragColor=c;}"],
uniforms:{w:a.Ha.Ea,x:a.Ha.La,l:a.Ha.rotation,m:a.Ha.Xda,n:a.Ha.Yda,o:a.Ha.qd,p:a.Ha.Pd,i:a.Ha.qRb,y:[a.Ha.avb,a.Ha.$ub,a.Ha.Zub,a.Ha.Yub],f:a.static.bvb,g:a.static.cvb}}}});var d8=Y7({id:"vignette",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec2 uElementResolution,n;uniform vec3 o;uniform float z,A,p,q;uniform int B;float r(vec2 f,vec2 g,float a,vec2 b){vec2 c=f-g,d=c;float e=b.x/b.y;if(e>1.)d.x*=e;else d.y/=e;float i=length(c),j=length(d),l=mix(i,j,a),k;k=a>0.?mix(.707,.5,a):.707;return l/k;}vec4 H=vec4(.55,.24,1.,1.);vec3 m(vec3 a){return pow(a,vec3(.454545));}vec3 h(vec3 a){return pow(a,vec3(2.2));}vec3 s(vec3 a,vec3 b,float c){vec3 d=h(a),e=h(b),f=mix(d,e,c);return m(f);}float t(float c,vec2 a){float b=1./min(a.x,a.y),d=b*1.5;return max(c,d);}vec4 C(float d,float b,float c,vec4 a,vec3 g,float e,int D){if(D==1){float i=b-c,j=b+c;if(d>j)return e<1e-3?vec4(0.,0.,0.,0.):vec4(g,e);else if(d>i){float f=smoothstep(i,j,d);if(e<1e-3){float E=mix(a.a,0.,f);return vec4(a.rgb,E);}else{vec3 F=s(a.rgb,g,f);float k=mix(a.a,e,f);k=min(a.a,k);return vec4(F,k);}}else return a;}else{float u=b-c,v=b+c,l=smoothstep(u,v,d);l*=e;vec3 w=h(a.rgb),x=h(g),y=mix(w,x,l),G=m(y);return vec4(G,a.a);}}void main(){vec2 a=vTexCoord,b=n;float c=r(a,b,q,uElementResolution),d=t(p,uElementResolution);vec4 e=texture2D(uPrevResult,a);vec3 f=o;gl_FragColor=C(c,z,d,e,f,A,B);}"],
uniforms:{z:a.Ha.radius,n:[a.Ha.nr,a.Ha.pr],A:a.Ha.opacity,p:a.Ha.Ov,o:c8([a.Ha.Iz,a.Ha.Gz,a.Ha.Fz]),q:a.Ha.hE,B:a.static.Rpa?1:0}}}});var FLc=Z7({e5:"black-and-white-film",primitives:a=>{const b=a.dZb,c=a.wXb;var d=a.g_b;const e=a.Do;a=a.Yb;let f=b8([0,0,0]);d!==void 0&&(f=zLc(d));d=Math.max(2E3-b*1700,100);const g=Math.max(1E3*(1-c),200);return[wLc({delay:e,duration:a,oj:{brightness:{points:$7(-.05*b,.1*b,a,"constant-duration",{tj:d,gap:Math.round(.1*d)},yC.um),Zb:yC.um}},Ri:{}}),BLc({delay:e,duration:a,oj:{eb:.5*b,SCa:3*b,Sxa:.1,Ov:.3,VC:{points:a8(0,100,a,{tj:1250,gap:0},yC.LINEAR),Zb:yC.LINEAR},opacity:1},Ri:{}}),DLc({delay:e,
duration:a,oj:{jFa:{points:a8(0,.2*b,a,{tj:1300,gap:0},yC.LINEAR),Zb:yC.um},nFa:.016,mFa:.8*b,lFa:.03,VC:{points:$7(0,1,a,"constant-duration",{tj:5E3,gap:0},yC.LINEAR),Zb:yC.LINEAR},Py:f[0],Oy:f[1],Qa:f[2],iFa:{points:$7(150,270,a,"constant-duration",{tj:1300,gap:600},yC.LINEAR),Zb:yC.LINEAR}},Ri:{}}),CLc({delay:e,duration:a,oj:{saturation:-1},Ri:{}}),ELc({delay:e,duration:a,oj:{Ea:{points:$7(-.01*c,.01*c,a,"constant-duration",{tj:g,gap:Math.round(.5*g)},yC.LINEAR),Zb:yC.LINEAR},La:{points:$7(-.015*
c,.015*c,a,"constant-duration",{tj:g*2,gap:Math.round(.8*g)},yC.LINEAR),Zb:yC.LINEAR},rotation:0,Xda:{points:$7(.3*c+.5*(1-c),.4*c+.5*(1-c),a,"constant-duration",{tj:g,gap:Math.round(.2*g)},yC.LINEAR),Zb:yC.LINEAR},Yda:{points:$7(.3*c+.5*(1-c),.4*c+.5*(1-c),a,"constant-duration",{tj:g*2,gap:Math.round(.3*g)},yC.LINEAR),Zb:yC.LINEAR},qd:1,Pd:1,qRb:1.05,avb:0,$ub:0,Zub:0,Yub:1},Ri:{bvb:0,cvb:0}}),d8({delay:e,duration:a,oj:{radius:{points:a8(.88,.91,a,{tj:d,gap:Math.round(.23*d)},yC.um),Zb:yC.um},nr:.5,
pr:.5,opacity:{points:[{time:0,value:1*b,Zb:yC.LINEAR},{time:a,value:1*b,Zb:yC.LINEAR}],Zb:yC.LINEAR},Ov:.4,Iz:0,Gz:0,Fz:0,hE:0},Ri:{Rpa:!1}}),ALc({delay:e,duration:a,oj:{ewb:.7,Ov:.14,nBb:.22,mBb:3.4,VC:{points:$7(3.5,23.9,a,"constant-duration",{tj:d,gap:Math.round(.1*d)},yC.um),Zb:yC.um},opacity:{points:[{time:0,value:1*b,Zb:yC.LINEAR},{time:a,value:1*b,Zb:yC.LINEAR}],Zb:yC.LINEAR},Iz:0,Gz:0,Fz:0,dM:0,Cmb:0},Ri:{Cnb:0}})]}});var GLc=Y7({id:"film_artifacts",zr:function(a){return{passes:["precision highp float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec3 H;uniform float I,J,K,L,Q;vec3 R(vec3 a){return a-floor(a*.00346)*289.;}vec4 S(vec4 a){return a-floor(a*.00346)*289.;}vec4 v(vec4 a){return S((a*34.+10.)*a);}float g(vec3 i){const vec2 e=vec2(.166667,.333333);const vec4 j=vec4(0.,.5,1.,2.);vec3 c=floor(i+dot(i,e.yyy)),a=i-c+dot(c,e.xxx),k=step(a.yzx,a.xyz),x=1.-k,f=min(k.xyz,x.zxy),h=max(k.xyz,x.zxy),r=a-f+e.xxx,s=a-h+e.yyy,t=a-j.yyy;c=R(c);vec4 y=v(v(v(c.z+vec4(0.,f.z,h.z,1.))+c.y+vec4(0.,f.y,h.y,1.))+c.x+vec4(0.,f.x,h.x,1.));vec3 b=.142857*j.wyz-j.xzx;vec4 z=y-49.*floor(y*b.z*b.z),A=floor(z*b.z),M=floor(z-7.*A),l=A*b.x+b.yyyy,m=M*b.x+b.yyyy,d=1.-abs(l)-abs(m),B=vec4(l.xy,m.xy),C=vec4(l.zw,m.zw),N=floor(B)*2.+1.,O=floor(C)*2.+1.,D=-step(d,vec4(0.)),E=B.xzyw+N.xzyw*D.xxyy,F=C.xzyw+O.xzyw*D.zzww;vec3 n=vec3(E.xy,d.x),o=vec3(E.zw,d.y),p=vec3(F.xy,d.z),q=vec3(F.zw,d.w);vec4 G=inversesqrt(vec4(dot(n,n),dot(o,o),dot(p,p),dot(q,q)));n*=G.x,o*=G.y,p*=G.z,q*=G.w;vec4 u=max(.5-vec4(dot(a,a),dot(r,r),dot(s,s),dot(t,t)),0.);u=u*u;return 105.*dot(u*u,vec4(dot(n,a),dot(o,r),dot(p,s),dot(q,t)));}float w(float a){return fract(sin(a*127.1)*43758.545312);}vec2 P(float a){return vec2(w(a),w(a+17.7));}vec4 V=vec4(.55,.24,1.,1.);vec3 T(vec3 b,vec3 c,float a){return b*(1.-a)+c*a;}vec4 U(vec4 a,vec4 b){return vec4(T(a.rgb,b.rgb,b.a),a.a);}void main(){vec2 b=vTexCoord;vec4 t=texture2D(uPrevResult,b);float h=floor(L+.5);vec2 x=(P(h)*2.-1.)*100.;float m=w(h+7.9)*100.,a=I+m;a=floor(a*Q);float j=w(a),n=g(vec3(b*80.,a*2.)),o=g(vec3(b*160.,a*2.)),p=g(vec3(b*240.,a*2.)),i=max(n,max(o,p));i=step(.3,i);vec2 c=(b-.5)/K+.5;float d=0.;if(j<.9)d=g(vec3(c*15.,a)),d=.5+d*.5,d=step(.96,d);float e=0.;if(j<.5){float q=g(vec3(c*20.,a));vec2 k=c;k.x+=q*.01,k.y+=q*.01,e=g(vec3(k*8.,a)),e=.5+e*.5,e=smoothstep(.95,.96,e);}float f=0.;if(j<.15){float r=g(vec3(c*1.,a));vec2 l=c;l.x+=r*4.,l.y+=r*4.,f=g(vec3(l*6.,a)),f=.5+f*.5,f=smoothstep(.955,.96,f);}float s=i*max(d,max(e,f));vec4 u=vec4(H,s*J);gl_FragColor=U(t,u);}"],
uniforms:{I:a.Ha.yD,J:a.Ha.eb,H:[...c8([a.Ha.Iz,a.Ha.Gz,a.Ha.Fz])],K:a.Ha.scale,Q:a.Ha.frequency,L:a.static.seed}}}});var HLc=Z7({e5:"film-emulsion",primitives:a=>{const b=a.eb,c=a.scale,d=a.frequency,e=a.seed,f=a.Do,g=a.Yb;a=zLc(a.color);var h={points:$7(0,6E4,g,"adaptive-duration",{T0a:6E4},yC.LINEAR),Zb:yC.LINEAR};return[BLc({delay:f,duration:g,oj:{eb:.2*b,SCa:3*b,Sxa:.1,Ov:.3,VC:h,opacity:1},Ri:{}}),GLc({delay:f,duration:g,oj:{yD:{points:oLc(g*1E3/1E6,g),Zb:yC.LINEAR},eb:b,Iz:a[0],Gz:a[1],Fz:a[2],scale:c,frequency:d},Ri:{seed:e}})]}});var ILc=Y7({id:"chromatic_aberration",zr:function(a){let b;switch(a.static.iha){case "LATERAL":b=0;break;case "RADIAL":b=1;break;default:throw new __c.A(a.static.iha);}return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec2 uElementResolution;uniform int k;uniform float i,l,m,n,o,p,q,r,s;float t(vec2 f,vec2 g,float a,vec2 b){vec2 c=f-g,d=c;float e=b.x/b.y;if(e>1.)d.x*=e;else d.y/=e;float h=length(c),j=length(d),v=mix(h,j,a),u;u=a>0.?mix(.707,.5,a):.707;return v/u;}void main(){vec2 a=vTexCoord;vec4 b,j=texture2D(uPrevResult,a);b.a=j.a;if(k==0){float c=o*3.141593/180.;vec2 f=vec2(cos(c),sin(c))*i;b.r=texture2D(uPrevResult,a+f*l).r,b.g=texture2D(uPrevResult,a+f*m).g,b.b=texture2D(uPrevResult,a+f*n).b;}else if(k==1){vec2 d=vec2(p,q);float e=t(a,d,r,uElementResolution);vec2 g=normalize(d-a);float h=e*i*pow(e,s);b.r=texture2D(uPrevResult,a+g*h*l).r,b.g=texture2D(uPrevResult,a+g*h*m).g,b.b=texture2D(uPrevResult,a+g*h*n).b;}gl_FragColor=vec4(b);}"],
uniforms:{k:b,i:a.Ha.KLa,o:a.Ha.angle,p:a.Ha.nr,q:a.Ha.pr,r:a.Ha.hE,s:a.Ha.aJa,l:a.Ha.Iba,m:a.Ha.Y8,n:a.Ha.vwa}}}});var JLc=Y7({id:"fisheye",zr:function(a){let b;switch(a.static.method){case "BULGE":b=0;break;case "STEREOGRAPHIC":b=1;break;case "ORTHOGRAPHIC":b=2;break;default:throw new __c.A(a.static.method);}return{passes:["precision mediump float;varying vec2 vTexCoord;uniform vec2 uElementResolution;uniform sampler2D uPrevResult;uniform float j,o,p,c,q,g,t;float r(vec2 h,vec2 i,float a,vec2 b){vec2 d=h-i,e=d;float f=b.x/b.y;if(f>1.)e.x*=f;else e.y/=f;float k=length(d),l=length(e),n=mix(k,l,a),m;m=a>0.?mix(.707,.5,a):.707;return n/m;}void main(){vec2 e=vTexCoord,d=vec2(o,p);float h=r(e,d,g,uElementResolution);if(t>0.&&h>j){gl_FragColor=texture2D(uPrevResult,e);return;}vec2 f=e-d,k=f/max(length(f),1e-3);float a=h/j,b;if(q<.5){float u=c*2.;b=a/(1.+(1.-a)*u);}else if(q<1.5)if(c>0.){float v=a*3.14159*.5*c;b=tan(v)/tan(1.570795*c);}else{float l=-c*2.;b=atan(a*l)/atan(l);}else if(c>0.){float w=a*3.14159*.5*c;b=sin(w)/sin(1.570795*c);}else{float m=-c*2.;b=asin(a*sin(m))/m;}float n=b*j*(g>0.?mix(.707,.5,g):.707);vec2 s=k*n,i=d+s;i=clamp(i,vec2(0.),vec2(1.)),gl_FragColor=texture2D(uPrevResult,i);}"],
uniforms:{j:a.Ha.radius,o:a.Ha.nr,p:a.Ha.pr,c:a.Ha.eb,g:a.Ha.hE,q:b,t:a.static.bNb?1:0}}}});var KLc=Z7({e5:"fisheye",primitives:a=>{const b=a.MW;var c=a.backgroundColor;const d=.25+.75*a.ZR;let e=b8([0,0,0]),f=0;c!==void 0&&(e=zLc(c),f=1);c=b8([0,0,0]);return[JLc({delay:a.Do,duration:a.Yb,oj:{radius:1,nr:.5,pr:.5,eb:b,hE:d},Ri:{method:"BULGE",bNb:!0}}),ILc({delay:a.Do,duration:a.Yb,oj:{KLa:.015+.02*b,angle:0,nr:.5,pr:.5,hE:d,aJa:0,Iba:-.35,Y8:.35,vwa:.35},Ri:{iha:"RADIAL"}}),d8({delay:a.Do,duration:a.Yb,oj:{radius:.95,nr:.5,pr:.5,opacity:.25,Ov:.5,Iz:c[0],Gz:c[1],Fz:c[2],hE:d},Ri:{Rpa:!1}}),
d8({delay:a.Do,duration:a.Yb,oj:{radius:.9,nr:.5,pr:.5,opacity:f,Ov:.05,Iz:e[0],Gz:e[1],Fz:e[2],hE:d},Ri:{Rpa:!0}})]}});var LLc=Y7({id:"light_leak",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec3 H,I;uniform float J,U,K,L,V,M;vec3 W(vec3 a){return a-floor(a*.00346)*289.;}vec4 X(vec4 a){return a-floor(a*.00346)*289.;}vec4 n(vec4 a){return X((a*34.+10.)*a);}float N(vec3 h){const vec2 e=vec2(.166667,.333333);const vec4 i=vec4(0.,.5,1.,2.);vec3 c=floor(h+dot(h,e.yyy)),a=h-c+dot(c,e.xxx),j=step(a.yzx,a.xyz),v=1.-j,f=min(j.xyz,v.zxy),g=max(j.xyz,v.zxy),r=a-f+e.xxx,s=a-g+e.yyy,t=a-i.yyy;c=W(c);vec4 w=n(n(n(c.z+vec4(0.,f.z,g.z,1.))+c.y+vec4(0.,f.y,g.y,1.))+c.x+vec4(0.,f.x,g.x,1.));vec3 b=.142857*i.wyz-i.xzx;vec4 x=w-49.*floor(w*b.z*b.z),y=floor(x*b.z),O=floor(x-7.*y),k=y*b.x+b.yyyy,l=O*b.x+b.yyyy,d=1.-abs(k)-abs(l),z=vec4(k.xy,l.xy),A=vec4(k.zw,l.zw),P=floor(z)*2.+1.,Q=floor(A)*2.+1.,B=-step(d,vec4(0.)),C=z.xzyw+P.xzyw*B.xxyy,D=A.xzyw+Q.xzyw*B.zzww;vec3 m=vec3(C.xy,d.x),o=vec3(C.zw,d.y),p=vec3(D.xy,d.z),q=vec3(D.zw,d.w);vec4 E=inversesqrt(vec4(dot(m,m),dot(o,o),dot(p,p),dot(q,q)));m*=E.x,o*=E.y,p*=E.z,q*=E.w;vec4 u=max(.5-vec4(dot(a,a),dot(r,r),dot(s,s),dot(t,t)),0.);u=u*u;return 105.*dot(u*u,vec4(dot(m,a),dot(o,r),dot(p,s),dot(q,t)));}float F(float a){return fract(sin(a*127.1)*43758.545312);}vec2 R(float a){return vec2(F(a),F(a+17.7));}vec4 Z=vec4(.55,.24,1.,1.);vec3 Y(vec3 a){return pow(a,vec3(.454545));}vec3 G(vec3 a){return pow(a,vec3(2.2));}vec3 S(vec3 a,vec3 b,float c){vec3 d=G(a),e=G(b),f=mix(d,e,c);return Y(f);}vec3 T(vec3 a,vec3 b){return 1.-(1.-a)*(1.-b);}void main(){vec2 d=vTexCoord;vec4 f=texture2D(uPrevResult,d);vec2 c=d-.5;float a=radians(L);mat2 l=mat2(cos(a),-sin(a),sin(a),cos(a));c=l*c,c.y/=V,c+=.5;float e=floor(M+.5);vec2 h=(R(e)*2.-1.)*100.;float i=F(e+7.9)*100.,j=J*.25,b=N(vec3(c*.5+h,j+i))*.5+.5;b=smoothstep(.55,.75,b);vec3 k=S(I,H,b)*b,g=1.-exp(-K*k*b);g*=U;vec3 m=T(f.rgb,g);gl_FragColor=vec4(m,f.a);}"],
uniforms:{J:a.Ha.yD,U:a.Ha.eb,K:a.Ha.Dub,L:a.Ha.angle,V:a.Ha.stretch,H:c8([a.Ha.TIb,a.Ha.SIb,a.Ha.RIb]),I:c8([a.Ha.dLb,a.Ha.cLb,a.Ha.bLb]),M:a.static.seed}}}});var MLc=Z7({e5:"light-leak",primitives:a=>{const {angle:b,stretch:c,seed:d,Aa:[e,f],Do:g,Yb:h,Zi:k}=a;a=k.get(0)?.value??1;var l=__c.wr(e),m=__c.wr(f);l=b8([l.r/255,l.g/255,l.b/255]);m=b8([m.r/255,m.g/255,m.b/255]);return[LLc({delay:g,duration:h,oj:{yD:{points:oLc(h*1E3/1E6,h),Zb:yC.LINEAR},eb:a,Dub:1.8,angle:b,stretch:c,TIb:l[0],SIb:l[1],RIb:l[2],dLb:m[0],cLb:m[1],bLb:m[2]},Ri:{seed:d}})]}});var NLc=Y7({id:"scanlines",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec2 uElementResolution;uniform vec3 d;uniform float s,t,n,o,u,w;float v(float e,float c,float f,float g,float h){float a=c+f,i=uElementResolution.y/a,j=floor(i+.5),k=j*a,b=e-g*k;if(h<1e-3){float p=mod(b,a);return p<c?1.:0.;}else{float l=b/a*3.141593*2.,q=.5+.5*sin(l),m=mod(b,a),r=m<c?1.:0.;return mix(r,q,h);}}void main(){vec2 b=vTexCoord;float c=s*uElementResolution.y,e=t*uElementResolution.y,a=c+e,f=b.y*uElementResolution.y,j=uElementResolution.y/a,k=floor(j+.5),l=k*a,m=f-n*l,p=floor(m/a);mod(p,2.)>.5?b.x+=w:0.;vec4 h=texture2D(uPrevResult,b);float g=v(f,c,e,n,u),q=(d.r+d.g+d.b)/3.;vec3 i;if(q<.5){vec3 r=mix(vec3(1.),d,g*o);i=h.rgb*r;}else{vec3 x=d*g*o;i=h.rgb+x;}gl_FragColor=vec4(i,h.a);}"],
uniforms:{s:a.Ha.lineWidth,t:a.Ha.mwb,n:a.Ha.offset,o:a.Ha.eb,d:c8([a.Ha.Iz,a.Ha.Gz,a.Ha.Fz]),u:a.Ha.Ov,w:a.Ha.Pzb}}}});var OLc=Y7({id:"static_noise",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform float e,f,g;float d(vec2 a){float b=dot(a.xy,vec2(12.9898,78.233)),c=mod(b,3.14);return fract(sin(c)*43758.5453)*g;}void main(){vec2 a=vTexCoord;a.x=vTexCoord.x+d(vec2(e*.03,vTexCoord.y*.42))*1e-3;vec2 b=vTexCoord;b.x=vTexCoord.x+d(vec2(f*4e-3,vTexCoord.y*2e-3))*4e-3;float c=texture2D(uPrevResult,a).r,h=texture2D(uPrevResult,b).g,i=texture2D(uPrevResult,vTexCoord).b,j=texture2D(uPrevResult,vTexCoord).a;gl_FragColor=vec4(c,h,i,j);}"],
uniforms:{e:a.Ha.Iba,f:a.Ha.Y8,g:a.Ha.hJb}}}});var e8=yC.LINEAR,PLc=Z7({e5:"old_tv",primitives:a=>{const b=a.Do,c=a.Yb;a=a.oS*2;return[wLc({delay:b,duration:c,oj:{brightness:{points:[{time:0,value:0,Zb:void 0},{time:400,value:.05,Zb:void 0},{time:800,value:.025,Zb:void 0},{time:1E3,value:0,Zb:void 0},{time:1400,value:.025,Zb:void 0},{time:1300,value:.1,Zb:void 0},{time:1400,value:0,Zb:void 0},{time:1700,value:.1,Zb:void 0},{time:1900,value:0,Zb:void 0},{time:2E3,value:.05,Zb:void 0},{time:2400,value:0,Zb:void 0},{time:2600,value:.025,Zb:void 0},
{time:2800,value:.05,Zb:void 0},{time:3E3,value:0,Zb:void 0},{time:3300,value:.025,Zb:void 0},{time:3500,value:.05,Zb:void 0},{time:3800,value:0,Zb:void 0},{time:4E3,value:.1,Zb:void 0},{time:4100,value:0,Zb:void 0},{time:4400,value:.1,Zb:void 0},{time:4500,value:0,Zb:void 0},{time:4800,value:.05,Zb:void 0},{time:5E3,value:0,Zb:void 0}],Zb:e8}},Ri:{}}),NLc({delay:b,duration:c,oj:{lineWidth:.15,mwb:.02,Pzb:0,offset:{points:$7(0,.5,c,"constant-duration",{tj:5E3},e8),Zb:e8},eb:.12*a,Iz:.04,Gz:.24,Fz:.6,
Ov:1},Ri:{}}),ILc({delay:b,duration:c,oj:{KLa:.004,angle:0,nr:.5,pr:.5,hE:0,aJa:0,Iba:-.45*a,Y8:.45*a,vwa:.45*a},Ri:{iha:"LATERAL"}}),OLc({delay:b,duration:c,oj:{Iba:{points:$7(0,1,c,"constant-duration",{tj:5E3},e8),Zb:e8},Y8:{points:$7(0,1,c,"constant-duration",{tj:5E3},e8),Zb:e8},hJb:a},Ri:{}})]}});var pLc={" ":[0,0,0,0,0,0,0,0],"!":[24,60,60,24,24,0,24,0],'"':[108,108,0,0,0,0,0,0],"#":[108,108,254,108,254,108,108,0],$:[48,124,192,120,12,248,48,0],"%":[0,198,204,24,48,102,198,0],"&":[56,108,56,118,220,204,118,0],"'":[96,96,192,0,0,0,0,0],"(":[24,48,96,96,96,48,24,0],")":[96,48,24,24,24,48,96,0],"*":[0,102,60,255,60,102,0,0],"+":[0,48,48,252,48,48,0,0],",":[0,0,0,0,0,48,48,96],"-":[0,0,0,252,0,0,0,0],".":[0,0,0,0,0,48,48,0],"/":[6,12,24,48,96,192,128,0],0:[124,198,206,222,246,230,124,0],1:[48,
112,48,48,48,48,252,0],2:[120,204,12,56,96,204,252,0],3:[120,204,12,56,12,204,120,0],4:[28,60,108,204,254,12,30,0],5:[252,192,248,12,12,204,120,0],6:[56,96,192,248,204,204,120,0],7:[252,204,12,24,48,48,48,0],8:[120,204,204,120,204,204,120,0],9:[120,204,204,124,12,24,112,0],":":[0,48,48,0,0,48,48,0],";":[0,48,48,0,0,48,48,96],"<":[24,48,96,192,96,48,24,0],"=":[0,0,252,0,0,252,0,0],">":[96,48,24,12,24,48,96,0],"?":[120,204,12,24,48,0,48,0],"@":[124,198,222,222,222,192,120,0],A:[48,120,204,204,252,204,
204,0],B:[252,102,102,124,102,102,252,0],C:[60,102,192,192,192,102,60,0],D:[248,108,102,102,102,108,248,0],E:[254,98,104,120,104,98,254,0],F:[254,98,104,120,104,96,240,0],G:[60,102,192,192,206,102,62,0],H:[204,204,204,252,204,204,204,0],I:[120,48,48,48,48,48,120,0],J:[30,12,12,12,204,204,120,0],K:[230,102,108,120,108,102,230,0],L:[240,96,96,96,98,102,254,0],M:[198,238,254,254,214,198,198,0],N:[198,230,246,222,206,198,198,0],O:[56,108,198,198,198,108,56,0],P:[252,102,102,124,96,96,240,0],Q:[120,204,
204,204,220,120,28,0],R:[252,102,102,124,108,102,230,0],S:[120,204,224,112,28,204,120,0],T:[252,180,48,48,48,48,120,0],U:[204,204,204,204,204,204,252,0],V:[204,204,204,204,204,120,48,0],W:[198,198,198,214,254,238,198,0],X:[198,198,108,56,56,108,198,0],Y:[204,204,204,120,48,48,120,0],Z:[254,198,140,24,50,102,254,0],"[":[120,96,96,96,96,96,120,0],"\\":[192,96,48,24,12,6,2,0],"]":[120,24,24,24,24,24,120,0],"^":[16,56,108,198,0,0,0,0],_:[0,0,0,0,0,0,0,255],"`":[48,48,24,0,0,0,0,0],a:[0,0,120,12,124,204,
118,0],b:[224,96,96,124,102,102,220,0],c:[0,0,120,204,192,204,120,0],d:[28,12,12,124,204,204,118,0],e:[0,0,120,204,252,192,120,0],f:[56,108,96,240,96,96,240,0],g:[0,0,118,204,204,124,12,248],h:[224,96,108,118,102,102,230,0],i:[48,0,112,48,48,48,120,0],j:[12,0,12,12,12,204,204,120],k:[224,96,102,108,120,108,230,0],l:[112,48,48,48,48,48,120,0],m:[0,0,204,254,254,214,198,0],n:[0,0,248,204,204,204,204,0],o:[0,0,120,204,204,204,120,0],p:[0,0,220,102,102,124,96,240],q:[0,0,118,204,204,124,12,30],r:[0,0,
220,118,102,96,240,0],s:[0,0,124,192,120,12,248,0],t:[16,48,124,48,48,52,24,0],u:[0,0,204,204,204,204,118,0],v:[0,0,204,204,204,120,48,0],w:[0,0,198,214,254,254,108,0],x:[0,0,198,108,56,108,198,0],y:[0,0,204,204,204,124,12,248],z:[0,0,252,152,48,100,252,0],"{":[28,48,48,224,48,48,28,0],"|":[24,24,24,0,24,24,24,0],"}":[224,48,48,28,48,48,224,0],"~":[118,220,0,0,0,0,0,0],"\u25b6":[0,112,120,124,124,120,112,0],"\u25a0":[0,0,126,126,126,126,0,0],"\u23f8":[0,102,102,102,102,102,102,0],"\u23ea":[198,230,
246,254,246,230,198,0],"\u23e9":[99,103,111,127,111,103,99,0],"\u25cf":[0,60,126,126,126,126,60,0],"\u27e6":[1,1,1,1,1,1,1,1],"\u2591":[255,129,129,129,129,129,129,255],"\u2592":[255,129,161,177,185,189,129,255],"\u2593":[255,129,189,189,189,189,129,255],"\u27e7":[],"\u25aa":[128,128,248,248,248,248,128,128],"\u3010":[255,128,191,191,191,191,128,255],"\u2b1a":[255,0,0,0,0,0,0,255],"\u2b1b":[255,0,255,255,255,255,0,255],"\u3011":[255,1,1,1,1,1,1,255],"\u25ac":[0,0,224,224,224,224,0,0]};var qLc={"\u25cf":[0,0,24,60,60,24,0,0],".":[48,48,0,0,0,0,0,0],R:[124,66,66,124,72,68,66,0],E:[126,64,64,124,64,64,126,0],C:[60,66,64,64,64,66,60,0],0:[60,66,70,74,82,98,60,0],1:[16,48,80,16,16,16,16,0],2:[60,66,2,12,48,64,126,0],3:[60,66,2,28,2,66,60,0],4:[12,20,36,68,126,4,4,0],5:[126,64,124,2,2,66,60,0],6:[60,66,64,124,66,66,60,0],7:[126,2,4,8,8,16,16,0],8:[60,66,66,60,66,66,60,0],9:[60,66,66,62,2,66,60,0],":":[24,24,0,0,24,24,0,0],"/":[2,4,8,16,32,64,128,0],"-":[254,0,0,0,0,0,0,0],"\u27e6":[255,
192,207,207,207,207,192,255],"\u2591":[255,0,0,0,0,0,0,255],"\u2592":[255,0,240,240,240,240,0,255],"\u2593":[255,0,255,255,255,255,0,255],"\u27e7":[255,0,252,252,252,252,0,255],"\u25aa":[192,192,248,248,248,248,192,192]};var rLc={"\u25cf":[24,60,24,0,0,0,0,0],".":[28,28,0,0,0,0,0,0],R:[252,198,198,252,216,204,198,0],E:[254,192,192,252,192,192,254,0],C:[124,198,192,192,192,198,124,0],0:[124,198,206,222,246,230,124,0],1:[48,112,48,48,48,48,120,0],2:[124,198,6,28,112,192,254,0],3:[124,198,6,28,6,198,124,0],4:[28,60,108,204,254,12,12,0],5:[254,192,252,6,6,198,124,0],6:[124,192,192,252,198,198,124,0],7:[254,198,12,24,48,48,48,0],8:[124,198,198,124,198,198,124,0],9:[124,198,198,126,6,12,56,0],":":[56,56,0,56,56,0,0,0],
"/":[6,12,24,48,96,192,0,0],"-":[126,0,0,0,0,0,0,0],"\u2b1a":[255,255,0,0,0,0,255,255],"\u2b1b":[255,255,255,255,255,255,255,255],"\u3011":[255,255,3,3,3,3,255,255],"\u25ac":[128,128,255,255,255,255,128,128]};var QLc=Y7({id:"bitmap_time_counter",zr:function(a){const b=uLc(a.Ha.timeMs,a.static.format);return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform vec2 uElementResolution;uniform vec4 d[20];uniform vec3 y,z;uniform float p,E,s,F,G,t,H,I,aa,u,J,K,L,M,N,A,O;float v(float b,float a){float c=pow(2.,7.-a);return mod(floor(b/c),2.);}vec4 w(int b,int c){int a=b*2+c;return a==0?d[0]:a==1?d[1]:a==2?d[2]:a==3?d[3]:a==4?d[4]:a==5?d[5]:a==6?d[6]:a==7?d[7]:a==8?d[8]:a==9?d[9]:a==10?d[10]:a==11?d[11]:a==12?d[12]:a==13?d[13]:a==14?d[14]:a==15?d[15]:a==16?d[16]:a==17?d[17]:a==18?d[18]:d[19];}float P(int m,vec2 a){float k=999.;for(int b=0;b<8;b++)for(int c=0;c<8;c++){int f=b,g=f/4;vec4 h=w(m,g);float e;int l=f-g*4;if(l==0)e=h.x;else if(l==1)e=h.y;else e=l==2?h.z:h.w;float q=v(e,float(c));if(q>.5){vec2 i=vec2(float(c),float(b))/8.,j=vec2(float(c)+1.,float(b)+1.)/8.;float n=max(max(i.x-a.x,0.),a.x-j.x),o=max(max(i.y-a.y,0.),a.y-j.y),r=length(vec2(n,o));k=min(k,r);}}return k;}float x(vec2 Q,vec2 R,float q){vec2 f=Q-R;float r=uElementResolution.x/uElementResolution.y;vec2 a=vec2(F*u,G*u);if(r>1.)a.x/=r;else a.y*=r;float S=p*a.x+(p-1.)*t,T=a.y,U=E-S*H,B=s;B=aa>.5?1.-s-T*(1.-I):s-T*I;float h=0.,g=q*.5;for(int b=0;b<10;b++){if(float(b)>=p)break;float V=U+float(b)*(a.x+t);vec2 j=vec2(V,B),k=j-a*g,W=a*(1.+2.*g);if(f.x>=k.x&&f.x<k.x+W.x&&f.y>=k.y&&f.y<k.y+W.y){vec2 c=(f-j)/a;if(q>1e-3){float X=P(b,c),Y=X/g,ba=1.-smoothstep(0.,1.,Y);h=max(h,ba);}else if(c.x>=0.&&c.x<=1.&&c.y>=0.&&c.y<=1.){vec2 l=c*8.,e=floor(l);int m=int(e.y);if(e.x>=0.&&e.x<8.&&e.y>=0.&&e.y<8.){int n=m/4;vec4 o=w(b,n);float i;int C=m-n*4;if(C==0)i=o.x;else if(C==1)i=o.y;else i=C==2?o.z:o.w;float D=v(i,e.x);if(K<1.&&D>.5){vec2 Z=fract(l),_=vec2(.5);float ca=length(Z-_)*2.;D*=1.-smoothstep(K*.8,1.,ca);}h=max(h,D);}}}}return clamp(h,0.,1.);}void main(){vec2 a=vTexCoord;vec4 f=texture2D(uPrevResult,a),b=f;if(A>0.){vec2 g=vec2(M,N);float c=x(a,g,O);if(c>0.){vec4 h=vec4(z,A*c);b=mix(b,vec4(z,1.),h.a);}}float e=x(a,vec2(0.,0.),L);if(e>0.){vec4 i=vec4(y,J*e);b=mix(b,vec4(y,1.),i.a);}gl_FragColor=b;}"],
uniforms:{d:tLc(b,a.static.Lvb),p:Math.min(b.length,10),E:a.Ha.hnb,s:a.Ha.inb,F:a.Ha.yob,G:a.Ha.wob,t:a.Ha.xob,u:a.Ha.scale,J:a.Ha.opacity,y:[a.Ha.zOb,a.Ha.yOb,a.Ha.xD],K:a.Ha.gIb,H:a.Ha.bSa,I:a.Ha.Ylb,aa:a.Ha.hmb,L:a.Ha.Ov,M:a.Ha.shadowOffsetX,N:a.Ha.shadowOffsetY,A:a.Ha.oMb,z:[a.Ha.nMb,a.Ha.mMb,a.Ha.lMb],O:a.Ha.pMb}}}});var RLc=Y7({id:"noise_warp",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform sampler2D uPrevResult;uniform float m,r,n;vec3 s(vec3 a){return a-floor(a*.00346)*289.;}vec2 t(vec2 a){return a-floor(a*.00346)*289.;}vec3 i(vec3 a){return s((a*34.+1.)*a);}float o(vec2 f){const vec4 d=vec4(.211325,.366025,-.57735,.02439);vec2 b=floor(f+dot(f,d.yy)),c=f-b+dot(b,d.xx),g;g=c.x>c.y?vec2(1.,0.):vec2(0.,1.);vec4 a=c.xyxy+d.xxzz;a.xy-=g,b=t(b);vec3 p=i(i(b.y+vec3(0.,g.y,1.))+b.x+vec3(0.,g.x,1.)),e=max(.5-vec3(dot(c,c),dot(a.xy,a.xy),dot(a.zw,a.zw)),0.);e=e*e,e=e*e;vec3 h=2.*fract(p*d.www)-1.,j=abs(h)-.5,q=floor(h+.5),k=h-q;e*=1.792843-.853735*(k*k+j*j);vec3 l;l.x=k.x*c.x+j.x*c.y,l.yz=k.yz*a.xz+j.yz*a.yw;return 130.*dot(e,l);}void main(){vec2 b=vTexCoord;float d=(b.y-m)*n,e=o(vec2(d,0.)),a=e*.2;a=a*a*a,a*=r*5.;vec2 c=vec2(b.x+a,b.y);gl_FragColor=c.x<0.||c.x>1.?vec4(0.,0.,0.,1.):texture2D(uPrevResult,c);}"],
uniforms:{m:a.Ha.VC,r:a.Ha.strength,n:a.Ha.s3}}}});var SLc=Y7({id:"vhs_tracking_band",zr:function(a){return{passes:["precision mediump float;varying vec2 vTexCoord;uniform vec2 uElementResolution;uniform sampler2D uPrevResult;uniform float f,k,l,g;uniform vec4 d;float h(vec2 a){return fract(sin(dot(a,vec2(127.1,311.7)))*43758.545312);}void main(){vec2 a=vTexCoord;vec4 e=texture2D(uPrevResult,vTexCoord);vec3 i=e.rgb;float m=f,j=h(vTexCoord*uElementResolution.xy);if(abs(vTexCoord.y-m)<k){vec3 c=vec3(1.,1.,1.);float b=j*g;c+=vec3(b)*.02,a.x+=sin(vTexCoord.y*uElementResolution.y*10.+b)*l;vec3 o=vec3(texture2D(uPrevResult,a+vec2(.2*b,0.)).r,texture2D(uPrevResult,a).g,texture2D(uPrevResult,a-vec2(.2*b,0.)).b);c=mix(c,c*d.rgb,d.a);vec3 n=texture2D(uPrevResult,a).rgb;i=mix(n,c,d.a);}gl_FragColor=vec4(i,e.a);}"],
uniforms:{f:a.Ha.offset,k:a.Ha.height,l:a.Ha.HSb,g:a.Ha.Qob,d:[...c8([a.Ha.Iz,a.Ha.Gz,a.Ha.Fz]),a.Ha.lpb]}}}});var TLc={scale:1,gIb:1,bSa:0,Ylb:0,hmb:0,Ov:0,shadowOffsetX:0,shadowOffsetY:0,oMb:.65,nMb:0,mMb:0,lMb:0,pMb:.3,zOb:1,yOb:1,xD:1},ULc=Z7({e5:"vhs",primitives:a=>{const b=a.Do,c=a.Yb;var d=a.VU;const e=a.Iv,f=a.$Q;a=Math.min(a.gS,1);var g=Math.floor(c/e);g=g>0?(c-g*e)/g:0;const h=2E3/(e/1E3);d=d!==void 0?[QLc({delay:b,duration:c,oj:{timeMs:{points:[{time:0,value:d===2?b:0,Zb:yC.LINEAR},{time:c,value:d===2?b+c:c,Zb:yC.LINEAR}],Zb:yC.LINEAR},hnb:.95,inb:.05,yob:.06,wob:.08,xob:.001,opacity:1,...TLc,bSa:1},
Ri:{format:0,Lvb:0}})]:[];return[BLc({delay:b,duration:c,oj:{eb:a*.4,SCa:.5,Sxa:a,Ov:0,VC:{points:a8(0,100,c,{tj:e},yC.LINEAR),Zb:yC.LINEAR},opacity:a*.52},Ri:{}}),d8({delay:b,duration:c,oj:{radius:.9,nr:.5,pr:.5,opacity:a*.7,Ov:__c.gC(.5,.6,a),Iz:0,Gz:0,Fz:0,hE:0},Ri:{Rpa:!1}}),...d,ILc({delay:b,duration:c,oj:{KLa:.08,angle:135,nr:.5,pr:.5,hE:0,aJa:0,Iba:a*-.12,Y8:a*.12,vwa:a*.12},Ri:{iha:"LATERAL"}}),DLc({delay:b,duration:c,oj:{jFa:{points:a8(a*0,a*.2,c,{tj:e/2},yC.LINEAR),Zb:yC.LINEAR},nFa:.005,
mFa:a*.7,lFa:.15,VC:{points:a8(0,1,c,{tj:e},yC.LINEAR),Zb:yC.LINEAR},Py:1,Oy:1,Qa:1,iFa:0},Ri:{}}),DLc({delay:b,duration:c,oj:{jFa:{points:a8(a*.1,a*.5,c,{tj:e/5},yC.LINEAR),Zb:yC.LINEAR},nFa:.005,mFa:a*.7,lFa:.02,VC:{points:a8(0,1,c,{tj:e},yC.LINEAR),Zb:yC.LINEAR},Py:1,Oy:1,Qa:1,iFa:0},Ri:{}}),RLc({delay:b,duration:c,oj:{VC:{points:$7(f===2?0:1,f===2?1:0,c,"adaptive-duration",{T0a:e*a*10},yC.LINEAR),Zb:yC.LINEAR},strength:a*.22+h/1E3*.1,s3:(90-h/100)*a},Ri:{}}),SLc({delay:b,duration:c,oj:{offset:{points:$7(f===
2?-.1:1.1,f===2?1.1:-.1,c,"constant-duration",{tj:e,gap:g},yC.LINEAR),Zb:yC.LINEAR},height:{points:a8(a*.01+.01,a*.03+.01,c,{tj:e,gap:g,XAb:!0},yC.LINEAR),Zb:yC.LINEAR},HSb:{points:a8(a*.01,a*.03,c,{tj:e/4},yC.um),Zb:yC.LINEAR},Qob:a*.85,Iz:0,Gz:0,Fz:0,lpb:a*.5},Ri:{}})]}});__c.E5b={};__c.E5b.Bqb=__c.Ea(()=>{const a=new vLc;a.rM.set("fisheye",KLc);a.rM.set("light_leak",MLc);a.rM.set("old_tv",PLc);a.rM.set("vhs",ULc);a.rM.set("black_and_white_film",FLc);a.rM.set("film-emulsion",HLc);return{Vsb:a}});
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/5585b14984c0b99c.js.map